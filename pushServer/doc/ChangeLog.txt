变更记录说明:
2012/6/29 
	1. 修改预警记录反复的编辑、删除后重新添加预警记录会错乱的问题。
	2. 取消每次最多发送4条记录的限制。

2012/7/5 
	1. 修改数据库长期不活动断开后重新连接。
	2. 增加更新连接的活动期。

2012/8/16
	1. 增加发送指定用户公告功能.

2012/8/21 
	1. 增加发送全部用户公告的功能。(三个平台全部置位 并且version使用all标识)
	2. 修改取消息历史记录

2012/8/22
	1. 修改公告发送条件判断
	2. 增加程序版本查看功能(pushserv version)

2012/8/23 
	1. 修改新用户只发送当天的公告消息
	2. 修改重启后重复发送公告消息
	3. 静态数据排序处理

2012/8/24 
	1. 应对节点资源不足，修改无效死亡用户的判定标准(针对长用户与短用户分别进行判断，增加节点复用度)
	2. config.xml增加配置项 UserNodeServer。

2012/8/25 
	1. 应对节点资源不足，将预警记录每个用户的最大保留条数设置为10条
	2. 应产品部门要求，去掉删除死亡用户的功能

2012/8/27 
	1. 正式服务器上面运行的程序发现一个core原因，若用户请求本该要求返回结果的数据，但是
	客户端不要求返回，此时会core。
	2. 正式服务器上面发送Iphone用户推送的时候今天会core，跟踪可能是由于调用ssl的系统函数所致，
	现在做出更改。

2012/8/28 
	1. 修正正式服务器上面运行的程序发现一个core, 若用户请求的数据头sub_head_t存在错误，返回的时候
	程序会core。

2012/9/11 
	1. 修改User信息在内存中的存储方式，依据平台区分用户。
	2. 初始化只加载属于本服务器的活跃用户信息，历史记录信息进库。
	3. 已经存在库中的用户信息，当用户重新激活会被重新加载。
	4. 在数据库中新建表 ( v010301_user, v010301_user_ewarning, v010301_user_pushmsghis, 
	v010301_active_user, v010301_active_user_ewarning, v010301_active_user_pushmsghis),并将user表的
	数据移动到v010301_user中, 把user_ewarning表的数据移动到v010301_user_ewarning中.
	5. 增加信息发送运行时段。
	【测试重点关注：用户信息占用的内存 大量用户时对库的压力 功能的正确性 用户请求的反应速度 
	Error in my_thread_global_end(): 2 threads didn't exit信息产生与否】

2012/9/12 
	1. 修改config.xml结构，为了后面添加新的平台
	2.修改一个调用查询的bug.

2012/9/14
	1. 修改公告扫描不完整(列表遍历不全导致)
	2. config.xml增加EWarningRate选项，用以控制预警记录数量
	3. 修正公告信息在数据库中的记录乱码.
	4. 增加314接口(由android客户端验证)
	
2012/11/6 
	1. 按照新的框架实现现有功能
	2. 释放信息地雷功能
	3. 记录的整理备份，每天只进行一次，执行时间段为config.xml中UserNodeServer

2012/11/7 
	1. 修改预警记录添加删除相应的设置
	2. 释放信息地雷及公告初始化的关联
	3. 修改删除预警，再增加预警状态设置错误(MPSERV-164)

2012/11/8 
	1. 修正新用户尚未备份进数据库之前其添加状态被替换
	2. 修正预警记录过期后取不到已经推送的历史记录索引(MPSERV-165)
	3. 修正涨跌幅计算错误(MPSERV-167)
	
2012/11/12 
	1. 修正公告无法推送

2012/11/14
	1. 修改信息地雷的发送方式
	2. 修改预警记录的存储格式(包括数据库记录格式及存储的文件格式)
	3. 修改当大数据发生的时候，已经触发的预警条件不能发送。
	
2012/11/15
	1. 修正用户信息头信息中占用预警节点计算错误。
	
2012/11/16 
	1. 修正用户信息头信息中占用预警节点计算错误。
	2. 修正用户信息头信息中占用用户计算错误。
	
2012/11/19 PushServerAs5_64_V2.1.8
	1. 修改预警、信息地雷的调用逻辑
	2. 修改信息地雷取最新逻辑
	3. 修改删除预警记录

2012/11/21 PushServerAs5_64_V2.1.9
	1. 修改重置后取证券名称为空的core

2012/11/22 PushServerAs5_64_V2.1.10
	1. 修正反复连接ios发送core
	2. 修复预警记录添加重复记录错误。
	3. 修改备份数据库为子线程响应。
	4. 改wp随机取发送地址.

2012/11/23 PushServerAs5_64_V2.1.11
	1. 增加线程之间的消息同步控制。

2012/11/26 PushServerAs5_64_V2.1.12
	1. 修复预警记录添加删除异常，MPSERV-183
	2. 增加UserID为空字符串的判断。
	3. 统计信息中去除无效记录(用户及预警)

2012/11/27 PushServerAs5_64_V2.1.13
	1. 修改UserID单索引为（UserID, Platformcode）索引用户.
	
2012/11/29 PushServerAs5_64_V2.1.14
	1. 修正PushServerAs5_64_V2.1.12中3引起的错误。
	
2012/11/30 PushServerAs5_64_V2.1.15
	1. 修正发送Wp7消息因连接问题导致的core。
	
2012/12/3 PushServerAs5_64_V2.1.16
	1. 修正因死亡用户重新加载取历史记录信息不正确
	2. 添加前面漏掉的从数据库中移除失效的历史信息的功能。
	
2012/12/4 PushServerAs5_64_V2.1.18
	1. 修正PushServerAs5_64_V2.1.16 中1引起的死循环bug.
	2. 修正从库中加载用户预警记录位置错乱。
	
2012/12/5 PushServerAs5_64_V2.1.19
	1. 修正Log级别更改配置错误。
	
2012/12/19 PushServerAs5_64_V2
	1. 改变平台的分类方式，在现有平台增加新的代码可配置
	2. 修复ConnectNum配置多个交替发送core的bug。
	
2013/1/10 PushServerAs5_64_V2.2.01
	1. 基本实现自选股的信息地雷推送功能。(推送逻辑为：每天至少保证推送一次统计信息，统计后动态的信息
	会实时发送，详见 自选股信息地雷推送 设计文档)
	2. 修改Iphone用户的记录状态不对(PU_DB_UPDATE->PU_DB_ADD);

2013/1/10 PushServerAs5_64_V2.2.02
	1. 增加wp8平台的支持(消息的具体格式需要产品确认，现在实现的最简单的格式)
	
2013/1/14 PushServerAs5_64_V2.2.03
	1. 确认wp8消息格式
	
2013/1/16 PushServerAs5_64_V2.2.04
	1. 增加公告读取数据源类型判断(style='0' : 待发送);
	2. 读取到公告数据后回执数据库(style='1' : 已发送)

2013/1/17 PushServerAs5_64_V2.2.05
	1. 公告的内容长度放大到30个字符
	2. 修正非预警用户不能推送公告
	3. 实现NOTE，可以不受log级别的限制输出内容到日志文件
	4. StaticNodeManage::UpdateStatus整理后状态更新有漏洞
	

2013/1/18 PushServerAs5_64_V2.2.06
	1. 输出公告的扫描统计信息
	2. 更新配置更改后的信息至CUserBaseInfoHead
	3. 取行情的地址当连接失败及取静态数据失败的时候切换配置的行情地址
	4. 更改部分log输出的日志级别定义
	5. 修改死亡用户重新加载更新用户列表
	
2013/1/21 PushServerAs5_64_V2.2.07
	1. 修正公告的内容长度放大到30个字符后引起的内容乱序
	2. 修改信息同步执行顺序为先同步信息，再执行用户整理。
	3. 修改android非预警用户接收公告失败。

2013/1/22 PushServerAs5_64_V2.2.08
	1. 修正重新载入预警记录数据库更新状态错误。

2013/1/30 PushServerAs5_64_V2.2.10
	1. 增加对于市场最大证券数目导致有可能的内存越界的判断。
	2. 改公告消息平台归类可以配置。
	3. config.xml修改
	
2013/2/1 PushServerAs5_64_V2.2.11
	1. Wp8命名替换为Win8。
	2. 调用308接口编辑预警记录更新同步状态。

2013/2/4 PushServerAs5_64_V2.2.12
	1. 编辑预警记录的时候，增加预警记录的同步状态设置。
	2. 修改预警记录删除后状态设置错。
	
2013/2/5 PushServerAs5_64_V2.2.14
	1. dbbuild.sql 扩充PushToken
	2. 替换相关命名wp8为win8.
	
2013/2/19 PushServerAs5_64_V2.3.01
	1. 修改311接口
	
2013/2/20 PushServerAs5_64_V2.3.02
	1. 添加自选信息地雷执行的部分日志输出。
	2. 修改信息地雷缓存最大数目为30000.

2013/2/21 PushServerAs5_64_V2.3.03
	1. 修正311接口返回msgid错误。
	2. 修改当公告类型为普通公告的时候，内容最大长度限定为210个字节。
	3. 修正当单个用户的自选空间占用满的情况下添加自选最后少一个字符。
	4. 信息地雷的时间改为newsdate。
	5. 对单个用户，如果自选未命中统计，也置为统计成功。
	6. 改统计与实时信息地雷扫描在一次循环内完成。
	7. 修改信息地雷缓存最大数目为5000.

2013/2/26 PushServerAs5_64_V2.3.04
	1. 增加317接口。
	2. 修改公告单版本号为版本区间作为判断条件。
	
2013/2/28 PushServerAs5_64_V2.3.05
	1. 修改查找对应ID的信息地雷的匹配错误。
	2. 修改解析SelfSelectStockInfomineConfig分割StatisticsTime错误。
	
2013/3/6 PushServerAs5_64_V2.3.06
	1. MP-3338 去掉公共消息中的时间。
	2. 去掉解析版本区间的一段无效判断。
	3. 自选股信息地雷推送应该为月日+内容，预警为月日时分+内容.
	4. 修改android的非预警用户不主动推送信息地雷及公告消息。
	5. 增加318接口。
	6. SelfSelectRecHead增加字段。
	7. 修改CSendToOuterBase::IsConnected。

2013/3/12 
	1. 放大MAX_SINGLE_REQUEST及MAX_SINGLE_RESPONSE。
	2. 修改对于写数据缓存满的处理。
	3. 增加测试接口1000.
	4. 修改外部发送每5万条歇息2秒。

2013/3/14 PushServerAs5_64_V2.3.08
	1. 修改取大长度公告信息的时候结尾出现乱码。
	2. 增加追踪用户日志输出功能。
	3. 修改315 316 317 318 当请求数据错误的时候返回数据。
	
2013/3/22  PushServerAs5_64_V2.3.09
	1. 增加当读取最近10天的公告读取不到的时候，取最近发送成功的数据ID作为增量起点。
	2. 修改系统信号控制机制。
	
2013/3/27 PushServerAs5_64_V2.4.01
	1. 修正【假设有A、B、C三个用户首先注册A与B，然后用户B设置预警，A与B死亡，用户整理
		此时添加C用户，设置预警，重启程序，查看B与C的预警记录出现重合的情况】。
	2. 重新定义版本号。
	
2013/4/3 PushServerAs5_64_V2.4.02
	1. 增加取动态数据最新价有效性的判断.
